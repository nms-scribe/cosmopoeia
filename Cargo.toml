[package]
name = "nfmt"
version = "0.1.2"
edition = "2021"
authors = ["N M Sheldon"]

[dependencies]
adaptive-bezier = "0.1.0"
clap = { version = "4.3.11", features = ["derive"] }
gdal = { version = "0.15.0", features = ["array"] }
indicatif = "0.17.5"
libflate = "2.0.0"
ordered-float = "3.7.0"
priority-queue = "1.3.2"
rand = "0.8.5"
serde = { version = "1.0.183", features = ["derive"] }
serde_json = "1.0.104"

# tips from https://github.com/johnthagen/min-sized-rust -- this reduced the final binary size immensely
[profile.release]
strip = true  # Automatically strip symbols from the binary.
opt-level = "z"  # Optimize for size.
lto = true #  instructs the linker to optimize at the link stage. This can, for example, remove dead code and often times reduces binary size.
codegen-units = 1 #By default, Cargo specifies 16 parallel codegen units for release builds. This improves compile times, but prevents some optimizations.
panic = "abort" # By default, when Rust code encounters a situation when it must call panic!(), it unwinds the stack and produces a helpful backtrace. The unwinding code, however, does require extra binary size. rustc can be instructed to abort immediately rather than unwind, which removes the need for this extra unwinding code.

